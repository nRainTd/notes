```cpp
#include <iostream>
#include <initializer_list>
#include <cstdlib>

template <typename T>
class seq_table {
private:
  T* head;        // 顺序表的首元素指针
  int length = 0; // 顺序表中实际存储的元素个数
  int size = 20;  // 顺序表在不扩容的情况下最多存储的元素个数

public:
  seq_table(std::initializer_list<T>);
  ~seq_table();

public:
  T& operator[] (int);
  const T& operator[] (int) const;

  void insert(T, int);
  void del(int);
  void push(T data) {
    this->insert(data, this->length);
  }
  T pop() {
    T ret = this->head[this->length - 1];
    this->del(this->length - 1);
    return ret;
  }
  void unshift(T data) {
    this->insert(data, 0);
  }
  T shift() {
    T ret = this->head[0];
    this->del(0);
    return ret;
  }

public:
  int get_len() {
    return this->length;
  }
  int get_size() {
    return this->size;
  }
};

// 构造和析构函数
template <typename T>
seq_table<T>::seq_table(std::initializer_list<T> datas) {
  this->length = datas.size();

  if (this->length >= this->size) {
    this->size = this->length * 2;
  }

  this->head = new T[this->size];

  std::copy(datas.begin(), datas.end(), this->head);
}

template <typename T>
seq_table<T>::~seq_table() {
  delete[] this->head;
}


// 重载 [] 运算符，实现按索引获得、修改数据
template <typename T>
T& seq_table<T>::operator[] (int index) {
  if (index >= this->length || index < 0) {
    std::cerr << "访问越界" << std::endl;
    exit(1);
  }

  return this->head[index];
}
template <typename T>
const T& seq_table<T>::operator[] (int index) const {
  if (index >= this->length || index < 0) {
    std::cerr << "访问越界" << std::endl;
    exit(1);
  }

  return this->head[index];
}

// 插入元素  
template <typename T>
void seq_table<T>::insert(T data, int index) {
  // 判断插入位置的正确性，只能在第 0 个到最后一个元素之后的位置插入元素
  if (index > this->length || index < 0) {
    std::cerr << "插入位置错误" << std::endl;
    exit(1);
  }

  // 如果大小不够，重新分配内存
  if (this->length + 1 > this->size) {
    this->size = (this->length + 1) * 2;
    T* tmp = this->head;
    this->head = new T[this->size];

    std::copy(tmp, tmp + this->length - 1, this->head);
    
    delete[] tmp;
  }

  // 将插入位置之后的元素整体后移
  for (int i = this->length - 1; i >= index; --i) this->head[i + 1] = this->head[i];

  // 插入元素
  this->head[index] = data;

  // 更新 length
  ++this->length;
}

// 删除元素
template <typename T>
void seq_table<T>::del(int index) {
  if (index >= 0 && index <= --this->length) {
    for (int i = index; i < this->length; ++i) {
      this->head[i] = this->head[i + 1];
    }
  } else {
    std::cerr << "删除位置超过范围" << std::endl;
    exit(1);
  }
}

int main() {
  using namespace std;
  seq_table<int> table({ 1, 2, 3, 4, 5, 6, 7, 8, 9 });
  char blank = ' ';

  cout << endl << "遍历输出:" << endl;
  for (size_t i = 0; i < table.get_len(); ++i) cout << table[i] << blank;

  table[1] = 9;
  cout << endl << "2 修改为 9:" << endl;
  for (int i = 0; i < table.get_len(); ++i) cout << table[i] << blank;

  table.insert(8, 1);
  cout << endl << "在 9 前面插入 8:" << endl;
  for (int i = 0; i < table.get_len(); ++i) cout << table[i] << blank;

  table.del(0);
  cout << endl << "删除 1:" << endl;
  for (int i = 0; i < table.get_len(); ++i) cout << table[i] << blank;

  table.del(8);
  cout << endl << "删除最后一个元素" << endl;
  for (int i = 0; i < table.get_len(); ++i) cout << table[i] << blank;

  table.push(11);
  cout << endl << "push(11):" << endl;
  for (int i = 0; i < table.get_len(); ++i) cout << table[i] << blank;

  table.unshift(0);
  cout << endl << "unshift(0):" << endl;
  for (int i = 0; i < table.get_len(); ++i) cout << table[i] << blank;

  auto last_data = table.pop();
  cout << endl << "pop() = " << last_data << ':' << endl;
  for (int i = 0; i < table.get_len(); ++i) cout << table[i] << blank;

  auto first_data = table.shift();
  cout << endl << "shift() = " << first_data << ':' << endl;
  for (int i = 0; i < table.get_len(); ++i) cout << table[i] << blank;

  return 0;
}
```

测试输出：  

```bash
遍历输出:
1 2 3 4 5 6 7 8 9
2 修改为 9:
1 9 3 4 5 6 7 8 9
在 9 前面插入 8:
1 8 9 3 4 5 6 7 8 9
删除 1:
8 9 3 4 5 6 7 8 9
删除最后一个元素
8 9 3 4 5 6 7 8
push(11):
8 9 3 4 5 6 7 8 11
unshift(0):
0 8 9 3 4 5 6 7 8 11
pop() = 11:
0 8 9 3 4 5 6 7 8
shift() = 0:
8 9 3 4 5 6 7 8
```
